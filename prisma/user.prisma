model User {
  id       String       @id @default(auto()) @map("_id") @db.ObjectId
  fullName String
  email    String       @unique
  password String
  role     UserRoleEnum

  status UserStatus @default(ACTIVE)

  otp       String?
  otpExpiry DateTime?
  fcmToken  String?

  isEmailVerified Boolean @default(false)
  isApproved      Boolean @default(false)
  isDeleted       Boolean @default(false)

  stripeCustomerId String?

  receiver Notification[] @relation("Receiver")
  sender   Notification[] @relation("Sender")

  //relation by email
  admin   Admin?
  coach   Coach?
  athlete Athlete?

  roomSender   Room[] @relation("RoomSender")
  roomReceiver Room[] @relation("RoomReceiver")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  sentChats     Chat[] @relation("ChatSender")
  receivedChats Chat[] @relation("ChatReceiver")

  @@map("users")
}

enum UserRoleEnum {
  ADMIN
  ATHLETE
  COACH
}

enum UserStatus {
  ACTIVE
  RESTRICTED
}
